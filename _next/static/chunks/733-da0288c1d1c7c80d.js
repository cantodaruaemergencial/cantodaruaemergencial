"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{79932:function(e,n,t){var r=t(85893),i=t(5566),o=t(46598),a=t(50253),l=t(67265),u=t(22318),s=t(20170),c=t(11568),d=t(30381),p=t.n(d),f=t(10063),v=t(16050);function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}function h(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function y(){var e=h(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return y=function(){return e},e}function g(){var e=h(["\n  background-color: ",";\n  position: relative;\n  border-radius: 16px;\n"]);return g=function(){return e},e}function x(){var e=h(["\n  && {\n    display: grid;\n    grid-gap: 1rem;\n    grid-template-columns: 1fr 1fr;\n    width: 480px;\n    max-width: 90vw;\n    position: relative;\n    padding: 1.5rem;\n  }\n"]);return x=function(){return e},e}function C(){var e=h(["\n  && {\n    width: 4rem;\n    height: 4rem;\n    position: absolute;\n    right: 1.5rem;\n    top: 1.5rem;\n  }\n"]);return C=function(){return e},e}function P(){var e=h(["\n  grid-column: 1 / 3;\n  position: relative;\n  border-radius: 4px;\n"]);return P=function(){return e},e}function j(){var e=h(["\n  grid-column: auto;\n"]);return j=function(){return e},e}function w(){var e=h(["\n  && {\n    font-size: 0.7em;\n    font-weight: bold;\n  }\n"]);return w=function(){return e},e}function N(){var e=h(["\n  && {\n    font-size: 1em;\n\n    &.bigger {\n      font-weight: bold;\n      font-size: 2.5em;\n    }\n  }\n"]);return N=function(){return e},e}function O(){var e=h(["\n  background-color: ",";\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  justify-content: start;\n  grid-gap: .5rem;\n  color: #fff;\n  font-weight: bold;\n  border-radius: 16px 16px 0 0;\n  padding: 1.25rem 1.5rem;\n  width: 100%;\n"]);return O=function(){return e},e}var k=(0,f.ZP)(i.Z)(y()),D=(0,o.Z)((0,f.ZP)(a.Z)(g(),(function(e){return e.theme.palette.success.main}))),S=(0,f.ZP)(v.Z)(x()),E=(0,o.Z)((0,f.ZP)(l.Z)(C())),Z=(0,o.Z)((0,f.ZP)(a.Z)(P())),H=(0,f.ZP)(Z)(j()),L=(0,f.ZP)(u.Z)(w()),M=(0,f.ZP)(u.Z)(N()),R=(0,o.Z)((0,f.ZP)(a.Z)(O(),(function(e){return e.theme.palette.success.main})));n.Z=function(e){var n=e.person,t=e.open,i=e.newPerson,o=e.handleClose,a=e.className;if(!n)return null;var l=n.Name,u=n.CardNumber,d=n.BirthDate,f=n.BirthPlace,v=n.MotherName,b=n.Cpf,h=n.GeneralRegister,y=n.created_at,g=p()(d).format("DD/MM/YYYY"),x=p()(y).format("DD/MM/YYYY");return(0,r.jsx)(k,{className:a,onClose:o,open:t,children:(0,r.jsx)(s.Z,m({in:t},t?{timeout:500}:{},{children:(0,r.jsxs)(D,{children:[i&&(0,r.jsxs)(R,{children:[(0,r.jsx)(c.Z,{}),"Cadastro conclu\xeddo com sucesso!"]}),(0,r.jsxs)(S,{children:[(0,r.jsx)(E,{alt:"Canto da Rua",src:"/images/logo.png"}),(0,r.jsxs)(Z,{children:[(0,r.jsx)(L,{children:"N\xfamero"}),(0,r.jsx)(M,{className:"bigger",children:u})]}),(0,r.jsxs)(Z,{children:[(0,r.jsx)(L,{children:"Nome"}),(0,r.jsx)(M,{children:l})]}),(0,r.jsxs)(H,{children:[(0,r.jsx)(L,{children:"Data de Nascimento"}),(0,r.jsx)(M,{children:g})]}),(0,r.jsxs)(H,{children:[(0,r.jsx)(L,{children:"Naturalidade"}),(0,r.jsx)(M,{children:f})]}),(0,r.jsxs)(Z,{children:[(0,r.jsx)(L,{children:"Nome da M\xe3e"}),(0,r.jsx)(M,{children:v||"-"})]}),b&&(0,r.jsxs)(H,{children:[(0,r.jsx)(L,{children:"Documento (CPF)"}),(0,r.jsx)(M,{children:b})]}),!b&&h&&(0,r.jsxs)(H,{children:[(0,r.jsx)(L,{children:"Documento (RG)"}),(0,r.jsx)(M,{children:h})]}),(0,r.jsxs)(H,{children:[(0,r.jsx)(L,{children:"Data de Expedi\xe7\xe3o"}),(0,r.jsx)(M,{children:x})]})]})]})}))})}},58757:function(e,n,t){var r=t(34051),i=t.n(r),o=t(30381),a=t.n(o),l=t(14509),u=t(34486);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e,n,t,r,i,o,a){try{var l=e[o](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)}))}}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){p(e,n,t[n])}))}return e}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)};b.get=function(e,n,t){var r={start:e,limit:n,filter:null===t||void 0===t?void 0:t.nameOrCardNumber};return l.V0.get("people2",r).then((function(e){return e.data})).then((function(e){return null===e||void 0===e?void 0:e.map((function(e){return e.LastEntranceDate=e.LastEntranceDate?a()(e.LastEntranceDate):null,e.EnteredToday=!!e.LastEntranceDate&&a()().isSame(e.LastEntranceDate,"day"),e}))}))},b.getGenders=function(){return l.V0.publicGet("genders").then((function(e){return e.data}))},b.getSkinColors=function(){return l.V0.publicGet("skin-colors").then((function(e){return e.data}))},b.getMaritalStatuses=function(){return l.V0.publicGet("marital-statuses").then((function(e){return e.data}))},b.getSchoolTrainings=function(){return l.V0.publicGet("school-trainings").then((function(e){return e.data}))},b.getExternalServices=function(){return l.V0.publicGet("external-services").then((function(e){return e.data}))},b.getBenefits=function(){return l.V0.publicGet("benefits").then((function(e){return e.data}))},b.getPerson=function(e){return l.V0.get("people/".concat(e)).then((function(e){return e.data}))},b.getPersonForm=function(){var e=d(i().mark((function e(n){var t,r,o,l,s,c,d,p,f,m,h,y,g;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=5,b.getPerson(n);case 5:s=e.sent;case 6:return e.t0=v,e.next=9,Promise.all([b.getGenders(),b.getSkinColors(),b.getMaritalStatuses(),b.getSchoolTrainings(),b.getExternalServices(),b.getBenefits()]);case 9:return e.t1=e.sent,c=(0,e.t0)(e.t1,6),d=c[0],p=c[1],f=c[2],m=c[3],h=c[4],y=c[5],g=[{label:"Dados Pessoais",fields:[{property:"Preferential",value:null===s||void 0===s?void 0:s.Preferential,label:"Preferencial",type:u.f.boolean},{property:"CardNumber",value:null===s||void 0===s?void 0:s.CardNumber,label:"Cart\xe3o",type:u.f.input,inputConfig:{maxLength:255},rules:{required:!1},disabled:!0},{property:"Name",value:null===s||void 0===s?void 0:s.Name,label:"Nome",type:u.f.input,inputConfig:{maxLength:255},rules:{required:!0}},{property:"SocialName",value:null===s||void 0===s?void 0:s.SocialName,label:"Nome Social",type:u.f.input,inputConfig:{maxLength:255}},{property:"MotherName",value:null===s||void 0===s?void 0:s.MotherName,label:"Nome da M\xe3e",type:u.f.input,inputConfig:{maxLength:255}},{property:"BirthDate",value:(null===s||void 0===s?void 0:s.BirthDate)?a()(s.BirthDate):null,label:"Data de Nascimento",type:u.f.date,dateConfig:{disableFuture:!0},rules:{required:!0}},{property:"BirthPlace",value:null===s||void 0===s?void 0:s.BirthPlace,label:"Naturalidade",description:"Exemplo: Belo Horizonte - MG",type:u.f.input,inputConfig:{maxLength:255},rules:{required:!0}},{property:"gender",value:null===s||void 0===s||null===(t=s.gender)||void 0===t?void 0:t.id,label:"Sexo",type:u.f.select,options:d.map((function(e){return{value:e.id,label:e.Gender}})),rules:{required:!0}},{property:"skin_color",value:null===s||void 0===s||null===(r=s.skin_color)||void 0===r?void 0:r.id,label:"Cor/Ra\xe7a",type:u.f.select,options:p.map((function(e){return{value:e.id,label:e.SkinColor}})),rules:{required:!0}},{property:"marital_status",label:"Estado Civil",value:null===s||void 0===s||null===(o=s.marital_status)||void 0===o?void 0:o.id,type:u.f.select,options:f.map((function(e){return{value:e.id,label:e.MaritalStatus}})),rules:{required:!0}},{property:"Childrens",value:null===s||void 0===s?void 0:s.Childrens,label:"N\xfamero de Filhos",type:u.f.number,rules:{required:!0}},{property:"school_training",value:null===s||void 0===s||null===(l=s.school_training)||void 0===l?void 0:l.id,label:"Forma\xe7\xe3o Escolar",type:u.f.select,options:m.map((function(e){return{value:e.id,label:e.SchoolTraining}})),rules:{required:!0}},{property:"Occupation",value:null===s||void 0===s?void 0:s.Occupation,label:"Ocupa\xe7\xe3o",type:u.f.input,inputConfig:{maxLength:255},rules:{required:!0}},{property:"Profession",value:null===s||void 0===s?void 0:s.Profession,label:"Profiss\xe3o",type:u.f.input,inputConfig:{maxLength:255},rules:{required:!0}}]},{label:"Documenta\xe7\xe3o",fields:[{property:"HasGeneralRegister",value:null===s||void 0===s?void 0:s.HasGeneralRegister,label:"Possui RG?",type:u.f.boolean},{property:"GeneralRegister",value:null===s||void 0===s?void 0:s.GeneralRegister,label:"N\xfamero do RG",type:u.f.input,inputConfig:{maxLength:255}},{property:"HasCpf",value:null===s||void 0===s?void 0:s.HasCpf,label:"Possui CPF?",type:u.f.boolean},{property:"Cpf",value:null===s||void 0===s?void 0:s.Cpf,label:"N\xfamero do CPF",type:u.f.input,inputConfig:{maxLength:255}},{property:"HasBirthCertificate",value:null===s||void 0===s?void 0:s.HasBirthCertificate,label:"Possui Certid\xe3o de Nascimento?",type:u.f.boolean},{property:"HasCtps",value:null===s||void 0===s?void 0:s.HasCtps,label:"Possui CTPS?",type:u.f.boolean}]},{label:"Informa\xe7\xf5es Adicionais",fields:[{property:"HasEmergencyAid",value:null===s||void 0===s?void 0:s.HasEmergencyAid,label:"Recebe Aux\xedlio Emergencial?",type:u.f.boolean},{property:"HasPbhBasket",value:null===s||void 0===s?void 0:s.HasPbhBasket,label:"Recebe Cesta PBH?",type:u.f.boolean},{property:"HasUniqueRegister",value:null===s||void 0===s?void 0:s.HasUniqueRegister,label:"Possui Cadastro \xdanico?",type:u.f.boolean},{property:"benefits",value:((null===s||void 0===s?void 0:s.benefits)||[]).map((function(e){return e.id})),label:"Recebe algum benef\xedcio?",type:u.f.selectMultiple,options:y.map((function(e){return{value:e.id,label:e.benefit}}))},{property:"external_services",value:((null===s||void 0===s?void 0:s.external_services)||[]).map((function(e){return e.id})),label:"Utiliza algum dos servi\xe7os?",type:u.f.selectMultiple,options:h.map((function(e){return{value:e.id,label:e.ExternalService}}))},{property:"HasHabitation",value:null===s||void 0===s?void 0:s.HasHabitation,label:"Possui moradia?",type:u.f.boolean},{property:"HomelessTime",value:null===s||void 0===s?void 0:s.HomelessTime,label:"Tempo em situa\xe7\xe3o de rua",type:u.f.input,inputConfig:{maxLength:255}},{property:"ReferenceAddress",value:null===s||void 0===s?void 0:s.ReferenceAddress,label:"Local de refer\xeancia",type:u.f.input,inputConfig:{maxLength:255}}]},{label:"Contatos e Observa\xe7\xf5es",fields:[{property:"ContactPhone",value:null===s||void 0===s?void 0:s.ContactPhone,label:"Telefone de Contato",type:u.f.number},{property:"ReferenceLocation",value:null===s||void 0===s?void 0:s.ReferenceLocation,label:"Endere\xe7o de refer\xeancia",description:"Endere\xe7o de familiar ou amigo",type:u.f.input,inputConfig:{maxLength:255},rules:{required:!1}},{property:"Demands",value:null===s||void 0===s?void 0:s.Demands,label:"Demandas",type:u.f.input,inputConfig:{maxLength:255}},{property:"Observation",value:null===s||void 0===s?void 0:s.Observation,label:"Observa\xe7\xf5es",type:u.f.input,inputConfig:{maxLength:255}}]},{label:"Confer\xeancia",fields:[{property:"Checked",value:null===s||void 0===s?void 0:s.Checked,label:"Conferido",type:u.f.boolean},{property:"CheckedBy",value:null===s||void 0===s?void 0:s.CheckedBy,label:"Conferido por",type:u.f.input},{property:"CheckedAt",value:null===s||void 0===s?void 0:s.CheckedAt,label:"Conferido em",type:u.f.date}]}],e.abrupt("return",{sections:g});case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b.savePerson=function(){var e=d(i().mark((function e(n,t){var r,a,u,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f({},n),Object.keys(r).forEach((function(e){if((0,o.isMoment)(r[e])){var n=r[e];r[e]=n.format("YYYY-MM-DD")}})),a=null!==t?l.V0.put("people/".concat(t),r):l.V0.post("people",r),e.next=5,a;case 5:if(u=e.sent,s=u.status,c=u.data,200===s){e.next=10;break}throw new Error;case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n.Z=b},34486:function(e,n,t){var r;t.d(n,{f:function(){return r}}),function(e){e[e.input=0]="input",e[e.boolean=1]="boolean",e[e.date=2]="date",e[e.select=3]="select",e[e.selectMultiple=4]="selectMultiple",e[e.number=5]="number"}(r||(r={}))}}]);