(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{7288:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pessoas",function(){return t(4568)}])},5091:function(n,e,t){"use strict";var r=t(7297),o=t(5893),a=t(6204),i=t(7083),c=t(6598),s=t(1568),l=t(886),u=t(4384),d=t(4779),f=t(8365),h=t(6010),m=t(9521),g=t(5213);function p(){let n=(0,r.Z)(["\n  &.success {\n    background-color: ",";\n    color: ",";\n\n    .MuiSvgIcon-root {\n      fill: ",";\n    }\n  }\n\n  &.error {\n    background-color: ",";\n    color: ",";\n\n    .MuiSvgIcon-root {\n      fill: ",";\n    }\n  }\n\n  &.info {\n    background-color: ",";\n    color: ",";\n\n    .MuiSvgIcon-root {\n      fill: ",";\n    }\n  }\n\n  &.MuiChip-sizeSmall {\n    && {\n      font-weight: 600;\n      font-size: 0.65rem;\n    }\n  }\n"]);return p=function(){return n},n}function x(){let n=(0,r.Z)(["\n  && {\n    border-radius: 24px;\n  }\n"]);return x=function(){return n},n}let Z=(0,c.Z)((0,m.ZP)(a.Z).withConfig({componentId:"sc-61a0d18d-0"})(p(),n=>{let{theme:e}=n;return"".concat(e.palette.success.light,"30")},n=>{let{theme:e}=n;return e.palette.success.dark},n=>{let{theme:e}=n;return e.palette.success.dark},n=>{let{theme:e}=n;return"".concat(e.palette.error.light,"30")},n=>{let{theme:e}=n;return e.palette.error.dark},n=>{let{theme:e}=n;return e.palette.error.dark},n=>{let{theme:e}=n;return"".concat(e.palette.info.light,"30")},n=>{let{theme:e}=n;return e.palette.info.dark},n=>{let{theme:e}=n;return e.palette.info.dark})),w=(0,m.ZP)(f.Z).withConfig({componentId:"sc-61a0d18d-1"})(x()),j=n=>{let{label:e,color:t,className:r,loading:a=!1,tooltip:c}=n;if(a)return(0,o.jsx)(w,{variant:"rect",width:100,height:24});let f=()=>{switch(t){case g.I.success:return(0,o.jsx)(s.Z,{});case g.I.info:return(0,o.jsx)(l.Z,{});case g.I.error:return(0,o.jsx)(u.Z,{});case g.I.disabled:return(0,o.jsx)(d.Z,{});default:return null}},m=()=>({default:g.I.default===t,success:g.I.success===t,error:g.I.error===t,info:g.I.info===t,disabled:g.I.disabled===t});return c?(0,o.jsx)(i.ZP,{title:c,children:(0,o.jsx)(Z,{className:(0,h.Z)(r,m()),label:e,avatar:f(),size:"small"})}):(0,o.jsx)(Z,{className:(0,h.Z)(r,m()),label:e,avatar:f(),size:"small"})};e.Z=j},6975:function(n,e,t){"use strict";t.d(e,{Z:function(){return j}});var r=t(5893),o=t(253),a=t(7294),i=t(6849),c=t(7297),s=t(2318),l=t(9521);function u(){let n=(0,c.Z)(["\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  height: 100%;\n"]);return u=function(){return n},n}function d(){let n=(0,c.Z)(["\n  && {\n    font-weight: bold;\n  }\n"]);return d=function(){return n},n}let f=(0,l.ZP)(o.Z).withConfig({componentId:"sc-90efecb2-0"})(u()),h=(0,l.ZP)(s.Z).withConfig({componentId:"sc-90efecb2-1"})(d()),m=n=>{let{message:e="Nenhum resultado encontrado.",className:t}=n;return(0,r.jsx)(f,{className:t,children:(0,r.jsx)(h,{children:e})})},g=i.qj,p=i.Z8,x=i.b2,Z=i.aV,w=n=>{let{fetchRows:e,rowRenderer:t,filter:c,className:s}=n,[l,u]=(0,a.useState)([]),[d,f]=(0,a.useState)(!0),h=null,w=d?l.length+8:l.length,j=(0,a.useMemo)(()=>new i.t1({fixedWidth:!0,minHeight:50}),[]),b=n=>{let{index:e}=n;return Boolean(l[e])},C=n=>{let{index:e}=n;return l[e]},v=()=>{u([]),f(!0),h&&h.resetLoadMoreRowsCache()},I=n=>{let{startIndex:t,stopIndex:r}=n;return e(t,r-t,c).then(n=>{f(n.length>0),u([...l,...n])})},y=n=>{let{key:e,index:a,parent:i,style:c}=n;return(0,r.jsx)(p,{cache:j,columnIndex:0,rowIndex:a,parent:i,children:e=>{let{measure:a,registerChild:i}=e;return(0,r.jsx)(o.Z,{onLoad:a,ref:i,style:c,children:t(C(n),b(n),n)})}},e)};return(0,a.useEffect)(()=>{let n=0===Object.keys(c).length;n||v()},[c]),(0,r.jsx)(x,{isRowLoaded:b,loadMoreRows:I,rowCount:w,className:s,ref:n=>{h=n},children:n=>{let{onRowsRendered:e,registerChild:t}=n;return(0,r.jsx)(g,{children:n=>{let{height:o,width:a}=n;return(0,r.jsx)(Z,{tabIndex:-1,ref:t,onRowsRendered:e,rowCount:w,noRowsRenderer:()=>(0,r.jsx)(m,{}),rowRenderer:y,deferredMeasurementCache:j,rowHeight:j.rowHeight,height:o,width:a})}})}})};var j=w},6248:function(n,e,t){"use strict";var r=t(7297),o=t(5893),a=t(253),i=t(5575),c=t(6977),s=t(9521);function l(){let n=(0,r.Z)(["\n  background-color: rgba(0, 0, 0, 0.05);\n  padding: 0.2rem 0.4rem;\n  border-radius: 4px;\n  grid-area: search;\n\n  .MuiSvgIcon-root {\n    margin: 0 0.5rem;\n    fill: darkgray;\n  }\n"]);return l=function(){return n},n}function u(){let n=(0,r.Z)(["\n  width: 100%;\n"]);return u=function(){return n},n}let d=(0,s.ZP)(a.Z).withConfig({componentId:"sc-261153ef-0"})(l()),f=(0,s.ZP)(i.Z).withConfig({componentId:"sc-261153ef-1"})(u()),h=n=>{let{placeholder:e,onFilter:t,className:r}=n,a=n=>{let{key:e,target:{value:r}}=n;if("Enter"===e){var o;t(r),null===(o=document.getElementById("search-field"))||void 0===o||o.select()}};return(0,o.jsx)(d,{className:r,children:(0,o.jsx)(f,{id:"search-field",placeholder:e,startAdornment:(0,o.jsx)(c.Z,{}),onKeyDown:n=>a(n),onFocus:n=>n.target.select(),autoFocus:!0})})};e.Z=h},2065:function(n,e,t){"use strict";var r=t(7297),o=t(5893),a=t(5213),i=t(253),c=t(6598),s=t(6010),l=t(9521);function u(){let n=(0,r.Z)(["\n  && {\n    padding: .1rem .5rem;\n    border-radius: 4px;\n    font-weight: 600;\n    text-align: center;\n    font-size: .8rem;\n  }\n  \n  color: rgba(0, 0, 0, 0.87);\n  background-color: #e0e0e0;\n\n  &.success {\n    background-color: ",";\n    color: ",";\n  }\n\n  &.error {\n    background-color: ",";\n    color: ",";\n  }\n\n  &.info {\n    background-color: ",";\n    color: ",";\n  }\n"]);return u=function(){return n},n}let d=(0,c.Z)((0,l.ZP)(i.Z).withConfig({componentId:"sc-6ad37093-0"})(u(),n=>{let{theme:e}=n;return"".concat(e.palette.success.light,"30")},n=>{let{theme:e}=n;return e.palette.success.dark},n=>{let{theme:e}=n;return"".concat(e.palette.error.light,"30")},n=>{let{theme:e}=n;return e.palette.error.dark},n=>{let{theme:e}=n;return"".concat(e.palette.info.light,"30")},n=>{let{theme:e}=n;return e.palette.info.dark})),f=n=>{let{label:e,color:t,className:r}=n;return(0,o.jsx)(d,{className:(0,s.Z)(r,{default:a.I.default===t,success:a.I.success===t,error:a.I.error===t,info:a.I.info===t,disabled:a.I.disabled===t}),children:e})};e.Z=f},4568:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nV}});var r,o,a=t(5893),i=t(370),c=t(7297),s=t(6050),l=t(6631),u=t(3637),d=t(6083),f=t(9525),h=t(2318),m=t(6856),g=t(4740);let p=n=>{let{title:e,message:t,open:r,handleClose:o,actions:i,className:c}=n;return(0,a.jsxs)(l.Z,{className:c,onClose:o,open:r,TransitionComponent:u.Z,maxWidth:"xs",children:[(0,a.jsx)(d.Z,{children:e}),(0,a.jsx)(f.Z,{dividers:!0,children:(0,a.jsx)(h.Z,{gutterBottom:!0,children:(0,a.jsx)(g.D,{children:t||""})})}),(0,a.jsx)(m.Z,{children:i})]})};var x=t(6248),Z=t(381),w=t.n(Z),j=t(4509);class b{}b.getToday=async()=>j.V0.get("dashboard/today").then(n=>n.data).then(n=>n),b.get=async n=>j.V0.get("dashboard/".concat(n)).then(n=>n.data),b.toCard=(n,e)=>{let{total:t,monthTotal:r,weekTotal:o,totalByCategory:a}=e,i=null;null!=r&&(i=[{value:r||0,label:"no m\xeas"},{value:o||0,label:"na semana"}]);let c=null==a?void 0:a.map(n=>({value:n.total,date:w()(n.name)}));return{label:n,value:t,otherValues:i,historicalValues:c}},b.toTotalHistoricalListCard=(n,e)=>({label:n,values:e}),b.toChartCard=(n,e)=>({label:n,values:e.sort((n,e)=>+n.total<+e.total?1:-1)}),b.toChartCardWithAverage=function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{average:t,totalByCategory:r}=arguments.length>2?arguments[2]:void 0;return{label:n,description:e,average:t,values:r}},b.getDashboardData=async()=>{let[n,e,t,r,o,a,i,c,s]=await Promise.all([b.get("people"),b.get("entrances"),b.get("service-attendances"),b.get("services"),b.get("genders"),b.get("skin-colors"),b.get("school-trainings"),b.get("ages"),b.get("homelessness")]);return{people:b.toCard("Pessoas atendidas",n),entrances:b.toCard("Entradas",e),serviceAttendances:b.toCard("Atendimentos",t),services:b.toTotalHistoricalListCard("Servi\xe7os",r),genders:b.toChartCard("G\xeanero",o),skinColors:b.toChartCard("Cor/Ra\xe7a",a),ages:b.toChartCardWithAverage("Idade","em anos",c),homelessness:b.toChartCardWithAverage("Tempo de rua","",s),schoolTrainings:b.toChartCard("Escolaridade",i)}};class C{}C.post=async n=>{let e={person:n.id,date:new Date};return j.V0.post("person-entrances",e)};var v=t(8757),I=t(2293),y=t(3832),P=t(282),k=t(253),N=t(6598),E=t(8736),S=t(1664),R=t.n(S),z=t(2425),D=t(7294),T=t(9521),_=t(6975),M=t(475),W=t(3737),L=t(6010),H=t(2077),A=t.n(H);(r=o||(o={}))[r.number=0]="number",r[r.currency=1]="currency",r[r.percentage=2]="percentage",r[r.percentageWithSign=3]="percentageWithSign",r[r.unit=4]="unit",t(1203);class O{static formatPercentage(n){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return A()(n/100).format(e?"0%":"0.00%")}static formatPercentageWithSign(n){return A()(n/100).format("+0.00%")}static formatCurrency(n){return A()(n).format("$0.0,00")}static formatWithUnit(n,e){return"".concat(this.formatNumber(n)).concat(e)}static formatNumber(n){return A()(n).format("0,0[.]0")}static format(n,e,t){switch(A().locale("pt-br"),e){case o.percentage:return this.formatPercentage(n);case o.percentageWithSign:return this.formatPercentageWithSign(n);case o.currency:return this.formatCurrency(n);case o.unit:return t?this.formatWithUnit(n,t):this.formatNumber(n);default:return this.formatNumber(n)}}}function Y(){let n=(0,c.Z)(["\n  display: flex;\n"]);return Y=function(){return n},n}function B(){let n=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  &.alignCenter {\n    text-align: center;\n    margin: 0 auto;\n  }\n\n  &.alignRight {\n    text-align: right;\n    align-items: flex-end;\n  }\n\n  &.small {\n    .value {\n      font-weight: 600;\n      font-size: 0.8rem;\n      line-height: 1.8;\n    }\n\n    .label {\n      font-size: 0.65rem;\n      font-weight: 600;\n      line-height: 1;\n    }\n  }\n\n  &.medium {\n    .value {\n      font-weight: 600;\n      font-size: 1rem;\n      line-height: 1.8;\n    }\n\n    .label {\n      font-size: 0.7rem;\n      font-weight: 600;\n      line-height: 1;\n    }\n  }\n\n  &.inline {\n    flex-direction: row;\n    align-items: baseline;\n\n    .label {\n      margin-left: 0.25rem;\n    }\n  }\n\n  &.light {\n    .value {\n      color: ",";\n    }\n\n    .label {\n      color: ",";\n      opacity: 0.8;\n    }\n  }\n"]);return B=function(){return n},n}function F(){let n=(0,c.Z)(["\n  && {\n    line-height: 1.25;\n    font-size: 2em;\n    font-weight: 700;\n  }\n"]);return F=function(){return n},n}function V(){let n=(0,c.Z)(["\n  && {\n    font-weight: 600;\n    font-size: 0.8rem;\n  }\n"]);return V=function(){return n},n}function q(){let n=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 0.5rem;\n  margin-top: -2rem;\n  color: ",";\n\n  .MuiSvgIcon-root {\n    font-size: 2rem;\n    margin-bottom: -0.2rem;\n    fill: ",";\n  }\n\n  &.negative {\n    color: ",";\n\n    .MuiSvgIcon-root {\n      transform: scaleY(-1);\n      fill: ",";\n    }\n  }\n"]);return q=function(){return n},n}function U(){let n=(0,c.Z)(["\n  && {\n    font-size: 0.6rem;\n    font-weight: 600;\n    line-height: 1;\n    margin-bottom: 0.25rem;\n  }\n"]);return U=function(){return n},n}let X=(0,T.ZP)(k.Z).withConfig({componentId:"sc-915173-0"})(Y()),G=(0,N.Z)((0,T.ZP)(k.Z).withConfig({componentId:"sc-915173-1"})(B(),n=>{let{theme:e}=n;return e.palette.primary.contrastText},n=>{let{theme:e}=n;return e.palette.primary.contrastText})),K=(0,T.ZP)(h.Z).withConfig({componentId:"sc-915173-2"})(F()),$=(0,T.ZP)(h.Z).withConfig({componentId:"sc-915173-3"})(V()),J=(0,N.Z)((0,T.ZP)(k.Z).withConfig({componentId:"sc-915173-4"})(q(),n=>{let{theme:e}=n;return e.palette.success.main},n=>{let{theme:e}=n;return e.palette.success.main},n=>{let{theme:e}=n;return e.palette.error.main},n=>{let{theme:e}=n;return e.palette.error.main})),Q=(0,T.ZP)(h.Z).withConfig({componentId:"sc-915173-5"})(U()),nn=n=>{let{format:e=o.number,value:t,label:r,alignCenter:i=!1,alignRight:c=!1,small:s=!1,medium:l=!1,inline:u=!1,light:d=!1,growth:f,className:h}=n,m=isNaN(+t)?t:O.format(+t,e);return(0,a.jsxs)(X,{className:h,children:[(0,a.jsxs)(G,{className:(0,L.Z)({small:s,medium:l,inline:u,alignCenter:i,alignRight:c,light:d}),children:[(0,a.jsx)(K,{color:"textPrimary",className:"value",children:m}),r&&(0,a.jsx)($,{className:"label",color:"textSecondary",children:r})]}),null!=f&&(()=>{let n=f||0;return(0,a.jsxs)(J,{className:(0,L.Z)({negative:n<0}),children:[(0,a.jsx)(W.Z,{}),(0,a.jsx)(Q,{children:O.formatPercentageWithSign(n)})]})})()]})};var ne=t(5091),nt=t(5213),nr=t(7083),no=t(4576),na=t(886),ni=t(8365),nc=t(2065),ns=t(8183);function nl(){let n=(0,c.Z)(["\n  flex: 0 0 auto;\n  height: 100%;\n"]);return nl=function(){return n},n}function nu(){let n=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 1.5rem 2rem;\n\n  "," {\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.05);\n  }\n"]);return nu=function(){return n},n}function nd(){let n=(0,c.Z)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  flex: 1;\n\n  "," {\n    margin-bottom: 0.75rem;\n  }\n"]);return nd=function(){return n},n}function nf(){let n=(0,c.Z)(["\n  && {\n    font-weight: 600;\n    cursor: pointer;\n\n    &:hover {\n      text-decoration: underline;\n    }\n\n    "," {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n"]);return nf=function(){return n},n}function nh(){let n=(0,c.Z)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 0.75rem;\n  flex: 1;\n\n  "," {\n    width: 90%;\n  }\n"]);return nh=function(){return n},n}function nm(){let n=(0,c.Z)(["\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 1rem;\n  justify-content: space-between;\n  align-items: center;\n"]);return nm=function(){return n},n}function ng(){let n=(0,c.Z)(["\n  min-width: 48px;\n"]);return ng=function(){return n},n}let np=(0,T.ZP)(k.Z).withConfig({componentId:"sc-33c255cc-0"})(nl()),nx=(0,N.Z)((0,T.ZP)(k.Z).withConfig({componentId:"sc-33c255cc-1"})(nu(),n=>{let{theme:e}=n;return e.breakpoints.down("xs")})),nZ=(0,N.Z)((0,T.ZP)(k.Z).withConfig({componentId:"sc-33c255cc-2"})(nd(),n=>{let{theme:e}=n;return e.breakpoints.down("xs")})),nw=(0,N.Z)((0,T.ZP)(h.Z).withConfig({componentId:"sc-33c255cc-3"})(nf(),n=>{let{theme:e}=n;return e.breakpoints.down("xs")})),nj=(0,N.Z)((0,T.ZP)(k.Z).withConfig({componentId:"sc-33c255cc-4"})(nh(),n=>{let{theme:e}=n;return e.breakpoints.down("xs")})),nb=(0,T.ZP)(k.Z).withConfig({componentId:"sc-33c255cc-5"})(nm()),nC=(0,T.ZP)(nc.Z).withConfig({componentId:"sc-33c255cc-6"})(ng()),nv=n=>{let{item:e,isRowLoaded:t,addNewEntrance:r,props:{key:o,index:i}}=n;if(!t)return(0,a.jsx)(np,{children:(0,a.jsxs)(nx,{condensed:!0,children:[(0,a.jsxs)(nZ,{children:[(0,a.jsx)(ni.Z,{variant:"rect",width:64,height:24}),(0,a.jsx)(nj,{children:(0,a.jsx)(nw,{variant:"body2",children:(0,a.jsx)(ni.Z,{variant:"text",width:160})})})]}),(0,a.jsxs)(nb,{children:[(0,a.jsx)(ne.Z,{loading:!0}),(0,a.jsx)(ni.Z,{variant:"rect",width:95,height:27})]})]})},"".concat(o,"-").concat(i,"-skeleton"));let{id:c,Preferential:s,name:l,social_name:u,card_number:d,EnteredToday:f,LastEntranceDate:m}=e,[g,p]=(0,D.useState)({LastEntranceDate:m,EnteredToday:f}),x=()=>g.EnteredToday?nt.I.success:null!==g.LastEntranceDate?nt.I.info:nt.I.disabled,Z=n=>p({LastEntranceDate:n.date,EnteredToday:!0}),[j,b]=(0,D.useState)({open:!1,personCompleteData:null}),C=n=>b({open:!0,personCompleteData:n}),I=()=>{b({...j,open:!1})};return(0,a.jsxs)(np,{children:[(0,a.jsxs)(nx,{condensed:!0,children:[(0,a.jsxs)(nZ,{children:[(0,a.jsx)(nC,{label:d,color:x()}),(0,a.jsxs)(nj,{children:[(0,a.jsx)(R(),{href:"/pessoas/cadastro/".concat(c),children:(0,a.jsxs)(nw,{variant:"body2",children:[s&&(0,a.jsx)(nr.ZP,{title:"Preferencial",children:(0,a.jsx)(no.Z,{style:{fill:"rgb(76, 175, 80)"}})}),l]})}),u&&(0,a.jsx)(h.Z,{variant:"caption",children:u})]})]}),(0,a.jsxs)(nb,{children:[(0,a.jsx)(ne.Z,{label:(()=>{if(null===g.LastEntranceDate)return"Nunca entrou";let n=g.EnteredToday?"Entrou ":"\xdalt. vez ",e=w()(g.LastEntranceDate).fromNow();return n+e})(),color:x(),tooltip:w()(g.LastEntranceDate).format("DD/MM/YYYY HH:mm").toString()}),!g.EnteredToday&&(0,a.jsx)(P.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(E.Z,{}),onClick:()=>r(e,Z),children:"Entrada"}),(0,a.jsx)(P.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(na.Z,{}),onClick:async()=>{let n=await v.Z.getPersonCompleteData(e.id);C(n)},children:"Cart\xe3o"})]})]}),(0,a.jsx)(ns.Z,{...j,handleClose:I,newPerson:!1})]},c)};var nI=t(1163);function ny(){let n=(0,c.Z)(["\n  && {\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 0;\n    height: 100%;\n    flex: 1;\n  }\n"]);return ny=function(){return n},n}function nP(){let n=(0,c.Z)([""]);return nP=function(){return n},n}function nk(){let n=(0,c.Z)(["\n  grid-area: add-new;\n  height: 42px;\n"]);return nk=function(){return n},n}function nN(){let n=(0,c.Z)(["\n  && {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 3rem;\n    flex-shrink: 0;\n    padding: 0;\n  }\n"]);return nN=function(){return n},n}function nE(){let n=(0,c.Z)(["\n  height: 70vh;\n"]);return nE=function(){return n},n}function nS(){let n=(0,c.Z)(["\n  flex: 1;\n"]);return nS=function(){return n},n}function nR(){let n=(0,c.Z)(["\n  margin-left: 1rem;\n"]);return nR=function(){return n},n}function nz(){let n=(0,c.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem 2rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  box-shadow: ",";\n"]);return nz=function(){return n},n}function nD(){let n=(0,c.Z)(["\n  flex: 1;\n  max-width: 400px;\n"]);return nD=function(){return n},n}let nT=(0,T.ZP)(y.Z).withConfig({componentId:"sc-c1f1a762-0"})(ny()),n_=(0,N.Z)((0,T.ZP)(M.Z).withConfig({componentId:"sc-c1f1a762-1"})(nP())),nM=(0,T.ZP)(P.Z).withConfig({componentId:"sc-c1f1a762-2"})(nk()),nW=(0,T.ZP)(s.Z).withConfig({componentId:"sc-c1f1a762-3"})(nN()),nL=(0,T.ZP)(k.Z).withConfig({componentId:"sc-c1f1a762-4"})(nE()),nH=(0,T.ZP)(_.Z).withConfig({componentId:"sc-c1f1a762-5"})(nS()),nA=(0,T.ZP)(nn).withConfig({componentId:"sc-c1f1a762-6"})(nR()),nO=(0,T.ZP)(k.Z).withConfig({componentId:"sc-c1f1a762-7"})(nz(),I.fo.bottom),nY=(0,T.ZP)(x.Z).withConfig({componentId:"sc-c1f1a762-8"})(nD()),nB=()=>{let{enqueueSnackbar:n}=(0,z.Ds)(),e=(0,nI.useRouter)(),[t,r]=(0,D.useState)({});(0,D.useEffect)(()=>r({nameOrCardNumber:e.query.q}),[]);let[o,i]=(0,D.useState)(),[c,s]=(0,D.useState)(),[l,u]=(0,D.useState)(!1),[d,f]=(0,D.useState)({title:"Confirmar entrada",open:!1}),h=(n,e,t)=>v.Z.get(n,e,t),m=()=>b.getToday().then(n=>{let{entrances:e,registers:t}=n;i(e),s(t)}),g=n=>r({nameOrCardNumber:n}),x=(n,e)=>{let t="Deseja confirmar a entrada de **".concat(n.name," (").concat(n.card_number,")**?");f({...d,data:{person:n,callback:e},message:t,open:!0})},Z=()=>{var n;f({...d,open:!1}),null===(n=document.getElementById("search-field"))||void 0===n||n.focus()},w=()=>{u(!0),C.post(d.data.person).then(e=>{let{status:t,data:r}=e;200===t?(Z(),d.data.callback(r),m(),u(!1)):(n("Ocorreu um erro ao confirmar a entrada.",{variant:"error"}),u(!1))})};(0,D.useEffect)(()=>{m()},[]);let j=(n,e,t)=>(0,a.jsx)(nv,{item:n,isRowLoaded:e,props:t,addNewEntrance:x});return(0,a.jsxs)(nT,{children:[(0,a.jsx)(n_,{title:"Pessoas",sideComponent:(0,a.jsx)(R(),{href:"/pessoas/cadastro",children:(0,a.jsx)(nM,{variant:"contained",startIcon:(0,a.jsx)(E.Z,{}),children:"Nova Pessoa"})})}),(0,a.jsxs)(nW,{children:[(0,a.jsxs)(nO,{children:[(0,a.jsx)(nY,{placeholder:"Nome ou cart\xe3o",onFilter:g}),(0,a.jsx)(nA,{value:null!=o?o:"-",label:"entradas hoje",medium:!0,alignRight:!0}),(0,a.jsx)(nA,{value:null!=c?c:"-",label:"cadastros hoje",medium:!0,alignRight:!0})]}),(0,a.jsx)(nL,{children:(0,a.jsx)(nH,{fetchRows:h,rowRenderer:j,filter:t})})]}),(0,a.jsx)(p,{...d,handleClose:Z,actions:(0,a.jsx)(P.Z,{autoFocus:!0,onClick:w,color:"primary",disabled:l,children:"Confirmar"})})]})},nF=()=>(0,a.jsx)(i.Z,{title:"Pessoas - Canto da Rua",children:(0,a.jsx)(nB,{})});var nV=nF},5213:function(n,e,t){"use strict";var r,o;t.d(e,{I:function(){return r}}),(o=r||(r={}))[o.default=0]="default",o[o.success=1]="success",o[o.error=2]="error",o[o.info=3]="info",o[o.disabled=4]="disabled"}},function(n){n.O(0,[29,970,937,682,529,106,859,774,888,179],function(){return n(n.s=7288)}),_N_E=n.O()}]);