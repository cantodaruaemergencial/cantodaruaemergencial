"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{9932:function(e,n,t){var l=t(7297),i=t(5893),a=t(5566),r=t(6598),o=t(253),s=t(7265),u=t(2318),d=t(170),p=t(1568),c=t(381),f=t.n(c),m=t(9521),v=t(6050);function g(){let e=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return g=function(){return e},e}function h(){let e=(0,l.Z)(["\n  background-color: ",";\n  position: relative;\n  border-radius: 16px;\n"]);return h=function(){return e},e}function b(){let e=(0,l.Z)(["\n  && {\n    display: grid;\n    grid-gap: 1rem;\n    grid-template-columns: 1fr 1fr;\n    width: 480px;\n    max-width: 90vw;\n    position: relative;\n    padding: 1.5rem;\n  }\n"]);return b=function(){return e},e}function x(){let e=(0,l.Z)(["\n  && {\n    width: 4rem;\n    height: 4rem;\n    position: absolute;\n    right: 1.5rem;\n    top: 1.5rem;\n  }\n"]);return x=function(){return e},e}function y(){let e=(0,l.Z)(["\n  grid-column: 1 / 3;\n  position: relative;\n  border-radius: 4px;\n"]);return y=function(){return e},e}function C(){let e=(0,l.Z)(["\n  grid-column: auto;\n"]);return C=function(){return e},e}function P(){let e=(0,l.Z)(["\n  && {\n    font-size: 0.7em;\n    font-weight: bold;\n  }\n"]);return P=function(){return e},e}function j(){let e=(0,l.Z)(["\n  && {\n    font-size: 1em;\n\n    &.bigger {\n      font-weight: bold;\n      font-size: 2.5em;\n    }\n  }\n"]);return j=function(){return e},e}function Z(){let e=(0,l.Z)(["\n  background-color: ",";\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  justify-content: start;\n  grid-gap: 0.5rem;\n  color: #fff;\n  font-weight: bold;\n  border-radius: 16px 16px 0 0;\n  padding: 1.25rem 1.5rem;\n  width: 100%;\n"]);return Z=function(){return e},e}let N=(0,m.ZP)(a.Z).withConfig({componentId:"sc-7ecefa57-0"})(g()),w=(0,r.Z)((0,m.ZP)(o.Z).withConfig({componentId:"sc-7ecefa57-1"})(h(),e=>{let{theme:n}=e;return n.palette.success.main})),D=(0,m.ZP)(v.Z).withConfig({componentId:"sc-7ecefa57-2"})(b()),E=(0,r.Z)((0,m.ZP)(s.Z).withConfig({componentId:"sc-7ecefa57-3"})(x())),H=(0,r.Z)((0,m.ZP)(o.Z).withConfig({componentId:"sc-7ecefa57-4"})(y())),L=(0,m.ZP)(H).withConfig({componentId:"sc-7ecefa57-5"})(C()),k=(0,m.ZP)(u.Z).withConfig({componentId:"sc-7ecefa57-6"})(P()),M=(0,m.ZP)(u.Z).withConfig({componentId:"sc-7ecefa57-7"})(j()),R=(0,r.Z)((0,m.ZP)(o.Z).withConfig({componentId:"sc-7ecefa57-8"})(Z(),e=>{let{theme:n}=e;return n.palette.success.main})),S=e=>{let{person:n,open:t,newPerson:l,handleClose:a,className:r}=e;if(!n)return null;let{Name:o,CardNumber:s,BirthDate:u,BirthPlace:c,MotherName:m,Cpf:v,GeneralRegister:g,created_at:h}=n,b=f()(u).format("DD/MM/YYYY"),x=f()(h).format("DD/MM/YYYY");return(0,i.jsx)(N,{className:r,onClose:a,open:t,children:(0,i.jsx)(d.Z,{in:t,...t?{timeout:500}:{},children:(0,i.jsxs)(w,{children:[l&&(0,i.jsxs)(R,{children:[(0,i.jsx)(p.Z,{}),"Cadastro conclu\xeddo com sucesso!"]}),(0,i.jsxs)(D,{children:[(0,i.jsx)(E,{alt:"Canto da Rua",src:"/".concat("cantodaruaemergencial","/images/logo.png")}),(0,i.jsxs)(H,{children:[(0,i.jsx)(k,{children:"N\xfamero"}),(0,i.jsx)(M,{className:"bigger",children:s})]}),(0,i.jsxs)(H,{children:[(0,i.jsx)(k,{children:"Nome"}),(0,i.jsx)(M,{children:o})]}),(0,i.jsxs)(L,{children:[(0,i.jsx)(k,{children:"Data de Nascimento"}),(0,i.jsx)(M,{children:b})]}),(0,i.jsxs)(L,{children:[(0,i.jsx)(k,{children:"Naturalidade"}),(0,i.jsx)(M,{children:c})]}),(0,i.jsxs)(H,{children:[(0,i.jsx)(k,{children:"Nome da M\xe3e"}),(0,i.jsx)(M,{children:m||"-"})]}),v&&(0,i.jsxs)(L,{children:[(0,i.jsx)(k,{children:"Documento (CPF)"}),(0,i.jsx)(M,{children:v})]}),!v&&g&&(0,i.jsxs)(L,{children:[(0,i.jsx)(k,{children:"Documento (RG)"}),(0,i.jsx)(M,{children:g})]}),(0,i.jsxs)(L,{children:[(0,i.jsx)(k,{children:"Data de Expedi\xe7\xe3o"}),(0,i.jsx)(M,{children:x})]})]})]})})})};n.Z=S},8757:function(e,n,t){var l=t(381),i=t.n(l),a=t(4509),r=t(4486);class o{}o.get=(e,n,t)=>{let l={start:e,limit:n,filter:null==t?void 0:t.nameOrCardNumber};return a.V0.get("people2",l).then(e=>e.data).then(e=>null==e?void 0:e.map(e=>(e.LastEntranceDate=e.LastEntranceDate?i()(e.LastEntranceDate):null,e.EnteredToday=!!e.LastEntranceDate&&i()().isSame(e.LastEntranceDate,"day"),e)))},o.getGenders=()=>a.V0.publicGet("genders").then(e=>e.data),o.getSkinColors=()=>a.V0.publicGet("skin-colors").then(e=>e.data),o.getMaritalStatuses=()=>a.V0.publicGet("marital-statuses").then(e=>e.data),o.getSchoolTrainings=()=>a.V0.publicGet("school-trainings").then(e=>e.data),o.getExternalServices=()=>a.V0.publicGet("external-services").then(e=>e.data),o.getBenefits=()=>a.V0.publicGet("benefits").then(e=>e.data),o.getPerson=e=>a.V0.get("people/".concat(e)).then(e=>e.data),o.getPersonForm=async e=>{var n,t,l,a;let s;e&&(s=await o.getPerson(e));let[u,d,p,c,f,m]=await Promise.all([o.getGenders(),o.getSkinColors(),o.getMaritalStatuses(),o.getSchoolTrainings(),o.getExternalServices(),o.getBenefits()]),v=[{label:"Dados Pessoais",fields:[{property:"Preferential",value:null==s?void 0:s.Preferential,label:"Preferencial",type:r.f.boolean},{property:"CardNumber",value:null==s?void 0:s.CardNumber,label:"Cart\xe3o",type:r.f.input,inputConfig:{maxLength:255},rules:{required:!1},disabled:!0},{property:"Name",value:null==s?void 0:s.Name,label:"Nome",type:r.f.input,inputConfig:{maxLength:255},rules:{required:!0}},{property:"SocialName",value:null==s?void 0:s.SocialName,label:"Nome Social",type:r.f.input,inputConfig:{maxLength:255}},{property:"MotherName",value:null==s?void 0:s.MotherName,label:"Nome da M\xe3e",type:r.f.input,inputConfig:{maxLength:255}},{property:"BirthDate",value:(null==s?void 0:s.BirthDate)?i()(s.BirthDate):null,label:"Data de Nascimento",type:r.f.date,dateConfig:{disableFuture:!0},rules:{required:!0}},{property:"BirthPlace",value:null==s?void 0:s.BirthPlace,label:"Naturalidade",description:"Exemplo: Belo Horizonte - MG",type:r.f.input,inputConfig:{maxLength:255},rules:{required:!0}},{property:"gender",value:null==s?void 0:null===(n=s.gender)||void 0===n?void 0:n.id,label:"Sexo",type:r.f.select,options:u.map(e=>({value:e.id,label:e.Gender})),rules:{required:!0}},{property:"skin_color",value:null==s?void 0:null===(t=s.skin_color)||void 0===t?void 0:t.id,label:"Cor/Ra\xe7a",type:r.f.select,options:d.map(e=>({value:e.id,label:e.SkinColor})),rules:{required:!0}},{property:"marital_status",label:"Estado Civil",value:null==s?void 0:null===(l=s.marital_status)||void 0===l?void 0:l.id,type:r.f.select,options:p.map(e=>({value:e.id,label:e.MaritalStatus})),rules:{required:!0}},{property:"Childrens",value:null==s?void 0:s.Childrens,label:"N\xfamero de Filhos",type:r.f.number,rules:{required:!0}},{property:"school_training",value:null==s?void 0:null===(a=s.school_training)||void 0===a?void 0:a.id,label:"Forma\xe7\xe3o Escolar",type:r.f.select,options:c.map(e=>({value:e.id,label:e.SchoolTraining})),rules:{required:!0}},{property:"Occupation",value:null==s?void 0:s.Occupation,label:"Ocupa\xe7\xe3o",type:r.f.input,inputConfig:{maxLength:255},rules:{required:!0}},{property:"Profession",value:null==s?void 0:s.Profession,label:"Profiss\xe3o",type:r.f.input,inputConfig:{maxLength:255},rules:{required:!0}}]},{label:"Documenta\xe7\xe3o",fields:[{property:"HasGeneralRegister",value:null==s?void 0:s.HasGeneralRegister,label:"Possui RG?",type:r.f.boolean},{property:"GeneralRegister",value:null==s?void 0:s.GeneralRegister,label:"N\xfamero do RG",type:r.f.input,inputConfig:{maxLength:255}},{property:"HasCpf",value:null==s?void 0:s.HasCpf,label:"Possui CPF?",type:r.f.boolean},{property:"Cpf",value:null==s?void 0:s.Cpf,label:"N\xfamero do CPF",type:r.f.input,inputConfig:{maxLength:255}},{property:"HasBirthCertificate",value:null==s?void 0:s.HasBirthCertificate,label:"Possui Certid\xe3o de Nascimento?",type:r.f.boolean},{property:"HasCtps",value:null==s?void 0:s.HasCtps,label:"Possui CTPS?",type:r.f.boolean}]},{label:"Informa\xe7\xf5es Adicionais",fields:[{property:"HasEmergencyAid",value:null==s?void 0:s.HasEmergencyAid,label:"Recebe Aux\xedlio Emergencial?",type:r.f.boolean},{property:"HasPbhBasket",value:null==s?void 0:s.HasPbhBasket,label:"Recebe Cesta PBH?",type:r.f.boolean},{property:"HasUniqueRegister",value:null==s?void 0:s.HasUniqueRegister,label:"Possui Cadastro \xdanico?",type:r.f.boolean},{property:"benefits",value:((null==s?void 0:s.benefits)||[]).map(e=>e.id),label:"Recebe algum benef\xedcio?",type:r.f.selectMultiple,options:m.map(e=>({value:e.id,label:e.benefit}))},{property:"external_services",value:((null==s?void 0:s.external_services)||[]).map(e=>e.id),label:"Utiliza algum dos servi\xe7os?",type:r.f.selectMultiple,options:f.map(e=>({value:e.id,label:e.ExternalService}))},{property:"HasHabitation",value:null==s?void 0:s.HasHabitation,label:"Possui moradia?",type:r.f.boolean},{property:"HomelessTime",value:null==s?void 0:s.HomelessTime,label:"Tempo em situa\xe7\xe3o de rua",type:r.f.input,inputConfig:{maxLength:255}},{property:"ReferenceAddress",value:null==s?void 0:s.ReferenceAddress,label:"Local de refer\xeancia",type:r.f.input,inputConfig:{maxLength:255}}]},{label:"Contatos e Observa\xe7\xf5es",fields:[{property:"ContactPhone",value:null==s?void 0:s.ContactPhone,label:"Telefone de Contato",type:r.f.number},{property:"ReferenceLocation",value:null==s?void 0:s.ReferenceLocation,label:"Endere\xe7o de refer\xeancia",description:"Endere\xe7o de familiar ou amigo",type:r.f.input,inputConfig:{maxLength:255},rules:{required:!1}},{property:"Demands",value:null==s?void 0:s.Demands,label:"Demandas",type:r.f.input,inputConfig:{maxLength:255}},{property:"Observation",value:null==s?void 0:s.Observation,label:"Observa\xe7\xf5es",type:r.f.input,inputConfig:{maxLength:255}}]},{label:"Confer\xeancia",fields:[{property:"Checked",value:null==s?void 0:s.Checked,label:"Conferido",type:r.f.boolean},{property:"CheckedBy",value:null==s?void 0:s.CheckedBy,label:"Conferido por",type:r.f.input},{property:"CheckedAt",value:null==s?void 0:s.CheckedAt,label:"Conferido em",type:r.f.date}]}];return{sections:v}},o.savePerson=async(e,n)=>{let t={...e};Object.keys(t).forEach(e=>{if((0,l.isMoment)(t[e])){let n=t[e];t[e]=n.format("YYYY-MM-DD")}});let i=null!==n?a.V0.put("people/".concat(n),t):a.V0.post("people",t),{status:r,data:o}=await i;if(200!==r)throw Error();return o},n.Z=o},4486:function(e,n,t){var l,i;t.d(n,{f:function(){return l}}),(i=l||(l={}))[i.input=0]="input",i[i.boolean=1]="boolean",i[i.date=2]="date",i[i.select=3]="select",i[i.selectMultiple=4]="selectMultiple",i[i.number=5]="number"}}]);